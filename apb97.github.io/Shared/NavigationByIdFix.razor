@inject NavigationManager Navigation
@inject IJSRuntime JS

@if (!Rendered)
{
    Rendered = true;
    Task.CompletedTask.ContinueWith(async t =>
    {
        Navigation.NavigateTo(Navigation.Uri, replace: true);
        var urlSplit = Navigation.Uri.Split('#');
        if (urlSplit.Length == 2 && module is not null)
            await module.InvokeVoidAsync("activateCurrentLink", Navigation.Uri, $"#{urlSplit[1]}");
    });
}

@code{
    private IJSObjectReference? module;

    public bool Rendered { get; private set; }

    protected override async Task OnInitializedAsync()
    {
        module = await JS.InvokeAsync<IJSObjectReference>("import", "./Shared/NavigationByIdFix.razor.js");
    }
}